<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heralds - Ancient Voices, Living Word</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --background: #fafbfc;
            --text-primary: #333;
            --text-secondary: #2c3e50;
            --card-bg: white;
            --card-border: #e1e8ed;
            --accent-color: #667eea;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        .nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 0.75rem 0;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 60px;
            position: relative;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text-primary);
            flex-shrink: 0;
            z-index: 101;
        }

        .nav-logo-icon {
            width: 45px;
            height: 45px;
            background: var(--primary-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            flex-shrink: 0;
        }

        .nav-logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .nav-logo-text {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        /* Hamburger Menu Button */
        .nav-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 0.5rem;
            border: none;
            background: transparent;
            z-index: 101;
        }

        .nav-toggle span {
            width: 25px;
            height: 3px;
            background: var(--text-primary);
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .nav-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .nav-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            white-space: nowrap;
        }

        .nav-link:hover {
            color: var(--accent-color);
            background: rgba(102, 126, 234, 0.1);
        }

        /* Header */
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 3rem 0 4rem 0;
            text-align: center;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .logo {
            width: 240px;
            height: 240px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin: 0 auto 2rem auto;
            overflow: hidden;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .header h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .tagline {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            opacity: 0.9;
            font-style: italic;
            margin-bottom: 2rem;
        }

        .header-description {
            font-size: clamp(1rem, 2vw, 1.1rem);
            opacity: 0.85;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.7;
        }

        /* Main Content */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1rem 4rem 1rem;
        }

        /* Input Section */
        .input-section {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        .input-section h2 {
            color: var(--text-primary);
            font-size: clamp(1.5rem, 3vw, 2rem);
            margin-bottom: 1rem;
        }

        .input-section p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: clamp(1rem, 2vw, 1.1rem);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 2rem;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-input {
            flex: 1;
            padding: 1.25rem;
            border: 2px solid var(--card-border);
            border-radius: 12px;
            font-size: 1.1rem;
            outline: none;
            transition: border-color 0.3s ease;
            min-height: 56px;
        }

        .search-input:focus {
            border-color: var(--accent-color);
        }

        /* Heralds Section */
        .heralds-section {
            margin-bottom: 4rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: clamp(2rem, 4vw, 2.5rem);
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }

        .heralds-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            align-items: stretch;
        }

        .herald-card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .herald-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .herald-card.john:hover { border-color: #10b981; }
        .herald-card.peter:hover { border-color: #ef4444; }
        .herald-card.barnabas:hover { border-color: #84cc16; }
        .herald-card.mary:hover { border-color: #3b82f6; }
        .herald-card.deborah:hover { border-color: #8b5cf6; }
        .herald-card.lydia:hover { border-color: #eab308; }

        .herald-card.coming-soon {
            opacity: 0.7;
        }

        .herald-card.coming-soon:hover {
            border-color: #9ca3af;
            transform: translateY(-2px);
        }

        .herald-card.selected {
            border-color: var(--accent-color) !important;
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .herald-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-bottom: 1px solid var(--card-border);
        }

        .herald-name {
            font-size: clamp(1.25rem, 2.5vw, 1.5rem);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .herald-subtitle {
            color: #8b5a9f;
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 600;
        }

        .herald-content {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .hebrew-name {
            background: #f1f5f9;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-style: italic;
            color: #7c3f58;
            margin-bottom: 1.5rem;
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 500;
        }

        .herald-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: clamp(0.95rem, 2vw, 1rem);
            line-height: 1.6;
            flex: 1;
        }

        .biblical-ref {
            font-size: clamp(0.85rem, 1.8vw, 0.9rem);
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            padding-top: 1.5rem;
            font-style: italic;
            margin-bottom: 1.5rem;
        }

        .herald-submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: clamp(1rem, 2vw, 1.1rem);
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            text-align: center;
            transition: all 0.3s ease;
            min-height: 48px;
        }

        .herald-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .herald-submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Response Section */
        .response-section {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 3rem;
            display: none;
        }

        .response-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--card-border);
        }

        .herald-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            font-weight: 700;
            flex-shrink: 0;
        }

        .response-meta h3 {
            color: var(--text-primary);
            font-size: clamp(1.25rem, 3vw, 1.5rem);
            margin-bottom: 0.5rem;
        }

        .response-meta p {
            color: var(--text-secondary);
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        .verse-display {
            background: #f1f5f9;
            border-left: 4px solid var(--accent-color);
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-radius: 0 12px 12px 0;
        }

        .verse-text {
            font-style: italic;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            font-size: clamp(1rem, 2.2vw, 1.1rem);
        }

        .verse-reference {
            font-size: clamp(0.9rem, 2vw, 1rem);
            color: var(--accent-color);
            font-weight: 600;
        }

        .response-text {
            color: var(--text-primary);
            line-height: 1.8;
            font-size: clamp(1rem, 2.2vw, 1.1rem);
        }

        .jesus-quote-section {
            background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);
            border: 2px solid #ea580c;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .jesus-quote-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            color: #9a3412;
            font-weight: 600;
            font-size: clamp(1rem, 2.2vw, 1.1rem);
        }

        .jesus-quote-text {
            font-style: italic;
            color: #7c2d12;
            margin-bottom: 1rem;
            font-size: clamp(1.05rem, 2.3vw, 1.15rem);
            line-height: 1.6;
        }

        .jesus-quote-reference {
            color: #ea580c;
            font-weight: 600;
            text-align: right;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        .recommendation-banner {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .recommendation-text {
            color: #065f46;
            margin-bottom: 0.5rem;
        }

        .try-herald-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .loading {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--accent-color);
            justify-content: center;
            font-size: clamp(1rem, 2.2vw, 1.1rem);
        }

        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid #e2e8f0;
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Footer */
        .footer {
            background: var(--card-bg);
            border-top: 1px solid var(--card-border);
            padding: 2rem 0;
            text-align: center;
            color: var(--text-secondary);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--accent-color);
            text-decoration: none;
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 500;
            transition: color 0.3s ease;
            padding: 0.5rem;
        }

        .footer-link:hover {
            color: var(--text-primary);
        }

        .footer-bottom {
            font-size: clamp(0.85rem, 1.8vw, 0.9rem);
            color: #64748b;
        }

        /* Enhanced Responsive Design */
        
        /* Small Mobile (320px - 480px) */
        @media (max-width: 768px) {
            .nav-toggle {
                display: flex;
            }

            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 280px;
                height: 100vh;
                background: rgba(255, 255, 255, 0.98);
                backdrop-filter: blur(20px);
                flex-direction: column;
                justify-content: flex-start;
                align-items: flex-start;
                padding: 5rem 2rem 2rem 2rem;
                transition: right 0.3s ease;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
                z-index: 100;
                gap: 0;
            }

            .nav-links.active {
                right: 0;
            }

            .nav-link {
                width: 100%;
                padding: 1rem;
                border-radius: 8px;
                margin-bottom: 0.5rem;
                font-size: 1.1rem;
                border-bottom: 1px solid #e2e8f0;
                background: transparent;
            }

            .nav-link:hover {
                background: rgba(102, 126, 234, 0.1);
            }

            .nav-link:last-child {
                border-bottom: none;
            }

            /* Dark overlay when menu is open */
            .nav-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background: rgba(0, 0, 0, 0.5);
                z-index: 99;
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
            }

            .nav-overlay.active {
                opacity: 1;
                visibility: visible;
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                width: 100%;
                padding: 5rem 1.5rem 2rem 1.5rem;
            }

            .header {
                padding: 2rem 0 3rem 0;
            }

            .logo {
                width: 70px;
                height: 70px;
                margin-bottom: 1.5rem;
            }

            .container {
                padding: 1.5rem 0.75rem 3rem 0.75rem;
            }

            .input-section {
                padding: 1.5rem;
                margin-bottom: 2rem;
            }

            .search-container {
                flex-direction: column;
                gap: 0.75rem;
            }

            .heralds-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .herald-header {
                padding: 1.25rem;
            }

            .herald-content {
                padding: 1.25rem;
            }

            .response-section {
                padding: 1.5rem;
            }

            .response-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .herald-avatar {
                width: 50px;
                height: 50px;
                font-size: 1.25rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }

            .jesus-quote-section {
                padding: 1.25rem;
            }
        }

        /* Large Mobile/Small Tablet (481px - 768px) */
        @media (min-width: 481px) and (max-width: 768px) {
            .nav-content {
                padding: 0 1.5rem;
            }

            .nav-links {
                gap: 1rem;
            }

            .container {
                padding: 2rem 1.5rem 4rem 1.5rem;
            }

            .heralds-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.25rem;
            }

            .search-container {
                max-width: 600px;
            }

            .response-header {
                gap: 1.25rem;
            }

            .footer-links {
                gap: 1.5rem;
            }
        }

        /* Tablet (769px - 1024px) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 900px;
                padding: 3rem 2rem 4rem 2rem;
            }

            .heralds-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
            }

            .nav-links {
                gap: 1.25rem;
            }

            .input-section {
                padding: 2.5rem;
            }

            .response-section {
                padding: 2.5rem;
            }
        }

        /* Large Desktop (1025px+) */
        @media (min-width: 1025px) {
            .container {
                padding: 4rem 2rem;
            }

            .nav-content {
                padding: 0 2rem;
            }

            .heralds-grid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 2rem;
            }

            .input-section {
                padding: 3rem;
            }

            .response-section {
                padding: 3rem;
            }

            .herald-header {
                padding: 2rem;
            }

            .herald-content {
                padding: 2rem;
            }
        }

        /* Extra Large Desktop (1400px+) */
        @media (min-width: 1400px) {
            .heralds-grid {
                grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
                gap: 2.5rem;
            }
        }

        /* High DPI Displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .logo img,
            .nav-logo-icon img {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }

        /* Landscape Orientation Adjustments */
        @media (orientation: landscape) and (max-height: 600px) {
            .header {
                padding: 2rem 0;
            }

            .logo {
                width: 60px;
                height: 60px;
                margin-bottom: 1rem;
            }

            .container {
                padding-top: 2rem;
            }
        }

        /* Touch-specific enhancements */
        @media (hover: none) and (pointer: coarse) {
            .herald-card {
                transform: none;
            }

            .herald-card:hover {
                transform: none;
            }

            .herald-card:active {
                transform: scale(0.98);
            }

            .herald-submit-btn:hover {
                transform: none;
            }

            .herald-submit-btn:active {
                transform: scale(0.98);
            }

            .nav-link:hover {
                background: transparent;
            }

            .nav-link:active {
                background: rgba(102, 126, 234, 0.1);
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            html {
                scroll-behavior: auto;
            }
        }

        /* Dark mode support (if system preference) */
        @media (prefers-color-scheme: dark) {
            :root {
                --background: #1a1a1a;
                --text-primary: #ffffff;
                --text-secondary: #e0e0e0;
                --card-bg: #2d2d2d;
                --card-border: #404040;
                --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.4);
            }

            .nav-toggle span {
                background: var(--text-primary);
            }

            .nav-links {
                background: rgba(45, 45, 45, 0.98);
            }

            .nav-link {
                border-bottom-color: #404040;
            }

            .herald-header {
                background: linear-gradient(135deg, #3a3a3a 0%, #4a4a4a 100%);
            }

            .hebrew-name {
                background: #3a3a3a;
                color: #b794c4;
            }

            .verse-display {
                background: #3a3a3a;
            }

            .jesus-quote-section {
                background: linear-gradient(135deg, #4a3728 0%, #6b4423 100%);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="#" class="nav-logo">
                <div class="nav-logo-icon">
                    <img src="HLogo.png" alt="Heralds Logo">
                </div>
                <span class="nav-logo-text">Heralds</span>
            </a>
            
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="nav-links" id="navLinks">
                <a href="#" class="nav-link">Agora/Home</a>
                <a href="#" class="nav-link">Herald Chat</a>
                <a href="#" class="nav-link">References</a>
                <a href="#" class="nav-link">Learning</a>
                <a href="#" class="nav-link">About</a>
            </div>
        </div>
        <div class="nav-overlay" id="navOverlay"></div>
    </nav>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <img src="HLogo.png" alt="Heralds Logo">
            </div>
            <h1>The Agora</h1>
            <p class="header-description">
                Welcome to The Agora! In the ancient world, the Agora was the Greek city's central meeting place for the citizenry.  Here, you can meet Biblical characters who offer their unique perspectives on Scripture and life. 
                Engage with carefully crafted personalities that help you grow your understanding of the Bible and its application for you!
            </p>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Input Section -->
        <div class="input-section">
            <h2>Enter Your Query</h2>
            <p>Share a Bible verse (ex: "In the beginning..."), reference (ex. "Genesis 1:1;" or "Gen 1:1"), question, or topic, then choose a herald to see their unique perspective.</p>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Enter Bible reference, question, topic, or theme..." id="searchInput">
            </div>
        </div>

        <!-- Heralds Section -->
        <div class="heralds-section">
            <div class="section-header">
                <h2>Meet Your Heralds</h2>
                <p>Six Biblical characters ready to share their insights, with one more herald coming soon.</p>
            </div>

            <div class="heralds-grid">
               <!-- Peter -->
                <div class="herald-card peter" data-herald="peter">
                    <div class="herald-header">
                        <div class="herald-name">Peter</div>
                        <div class="herald-subtitle">The Bold Fisherman</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Kefa (כיפא) - "Stone, Rock"</div>
                        <div class="herald-description">The bold fisherman who became "the rock of the early church. Quick to speak and act, Peter leads with passionate conviction, combining bold challenge with encouraging uplift.</div>
                        <div class="biblical-ref">Matthew 16:13-20, Acts 2:14-41, 1 Peter 1:1-25</div>
                        <button class="herald-submit-btn" data-herald="peter">Submit</button>
                    </div>
                </div>                

               <!-- Mary of Bethany -->
                <div class="herald-card mary" data-herald="mary">
                    <div class="herald-header">
                        <div class="herald-name">Mary of Bethany</div>
                        <div class="herald-subtitle">The Contemplative Learner</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Miriam (מרים) - "Beloved"</div>
                        <div class="herald-description">The contemplative sister who chose to sit at Jesus' feet and learn. She understood the deeper significance of worship and sacrifice, combining thoughtful analysis with gentle care.</div>
                        <div class="biblical-ref">Luke 10:38-42, John 11:1-44, John 12:1-8</div>
                        <button class="herald-submit-btn" data-herald="mary">Submit</button>
                    </div>
                </div>
                
                <!-- John -->
                <div class="herald-card john" data-herald="john">
                    <div class="herald-header">
                        <div class="herald-name">John</div>
                        <div class="herald-subtitle">The Beloved Disciple</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Yochanan (יוחנן) - "God is gracious"</div>
                        <div class="herald-description">The beloved disciple who leaned on Jesus' chest at the Last Supper. Known for his deep love and profound spiritual insights, combining gentle care with thoughtful reflection.</div>
                        <div class="biblical-ref">John 13:23, John 19:26-27, 1 John 4:7-21</div>
                        <button class="herald-submit-btn" data-herald="john">Submit</button>
                    </div>
                </div>
                
                <!-- Lydia -->
                <div class="herald-card lydia" data-herald="lydia">
                    <div class="herald-header">
                        <div class="herald-name">Lydia</div>
                        <div class="herald-subtitle">The Hospitable Merchant</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Lydia (Λυδία) - "From Lydia, Noble one"</div>
                        <div class="herald-description">The God-fearing merchant whose heart the Lord opened to receive Paul's message. A successful businesswoman who used her resources to serve the early church with generous hospitality.</div>
                        <div class="biblical-ref">Acts 16:11-15, Acts 16:40</div>
                        <button class="herald-submit-btn" data-herald="lydia">Submit</button>
                    </div>
                </div>
                
                <!-- Barnabas -->
                <div class="herald-card barnabas" data-herald="barnabas">
                    <div class="herald-header">
                        <div class="herald-name">Barnabas</div>
                        <div class="herald-subtitle">Son of Encouragement</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Bar-Nabba (בר-נבא) - "Son of encouragement"</div>
                        <div class="herald-description">Called the "Son of Encouragement" by the apostles. He saw potential in Paul when others doubted and gave John Mark a second chance, blending gentle care with uplifting hope.</div>
                        <div class="biblical-ref">Acts 4:36-37, Acts 9:26-27, Acts 15:36-39</div>
                        <button class="herald-submit-btn" data-herald="barnabas">Submit</button>
                    </div>
                </div>
             
                <!-- Deborah -->
                <div class="herald-card deborah" data-herald="deborah">
                    <div class="herald-header">
                        <div class="herald-name">Deborah</div>
                        <div class="herald-subtitle">Judge and Prophetess</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">Devorah (דבורה) - "Bee"</div>
                        <div class="herald-description">The judge and prophetess who led Israel to victory. She combined divine wisdom with decisive leadership in challenging times, merging bold challenge with thoughtful analysis.</div>
                        <div class="biblical-ref">Judges 4:1-24, Judges 5:1-31</div>
                        <button class="herald-submit-btn" data-herald="deborah">Submit</button>
                    </div>
                </div>

                <!-- Coming Soon - 7th Herald -->
                <div class="herald-card coming-soon">
                    <div class="herald-header">
                        <div class="herald-name">Coming Soon</div>
                        <div class="herald-subtitle">The 7th Herald</div>
                    </div>
                    <div class="herald-content">
                        <div class="hebrew-name">??? - "Mystery for now"</div>
                        <div class="herald-description">A seventh biblical character is being carefully crafted to complete our collection of diverse voices. Each herald brings unique wisdom from their biblical experience and personality.</div>
                        <div class="biblical-ref">The perfect herald is being chosen...</div>
                        <button class="herald-submit-btn" disabled style="background: #9ca3af; cursor: not-allowed;">Coming Soon</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Response Section -->
        <div class="response-section" id="responseSection">
            <!-- Dynamic content will be inserted here -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" class="footer-link">Agora/Home</a>
                <a href="#" class="footer-link">Herald Chat</a>
                <a href="#" class="footer-link">References</a>
                <a href="#" class="footer-link">Learning</a>
                <a href="#" class="footer-link">About</a>
                <a href="#" class="footer-link">Theological Approach</a>
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link">Feedback</a>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Heralds. All rights reserved. Ancient Voices, Living Word.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== JESUS QUOTE CALIBRATION SYSTEM =====
        const jesusQuotes = {
            love: [
                { text: "A new command I give you: Love one another. As I have loved you, so you must love one another.", reference: "John 13:34" },
                { text: "Greater love has no one than this: to lay down one's life for one's friends.", reference: "John 15:13" },
                { text: "Love your enemies and pray for those who persecute you.", reference: "Matthew 5:44" }
            ],
            
            peace: [
                { text: "Peace I leave with you; my peace I give you. I do not give to you as the world gives. Do not let your hearts be troubled and do not be afraid.", reference: "John 14:27" },
                { text: "Blessed are the peacemakers, for they will be called children of God.", reference: "Matthew 5:9" },
                { text: "In this world you will have trouble. But take heart! I have overcome the world.", reference: "John 16:33" }
            ],
            
            faith: [
                { text: "Truly I tell you, if you have faith as small as a mustard seed, you can say to this mountain, 'Move from here to there,' and it will move. Nothing will be impossible for you.", reference: "Matthew 17:20" },
                { text: "Have faith in God.", reference: "Mark 11:22" },
                { text: "Because you have seen me, you have believed; blessed are those who have not seen and yet have believed.", reference: "John 20:29" }
            ],
            
            forgiveness: [
                { text: "Father, forgive them, for they do not know what they are doing.", reference: "Luke 23:34" },
                { text: "If you forgive other people when they sin against you, your heavenly Father will also forgive you.", reference: "Matthew 6:14" },
                { text: "Be merciful, just as your Father is merciful.", reference: "Luke 6:36" }
            ],
            
            prayer: [
                { text: "This, then, is how you should pray: 'Our Father in heaven, hallowed be your name...'", reference: "Matthew 6:9" },
                { text: "Ask and it will be given to you; seek and you will find; knock and the door will be opened to you.", reference: "Matthew 7:7" },
                { text: "And when you pray, do not be like the hypocrites, for they love to pray standing in the synagogues and on the street corners to be seen by others.", reference: "Matthew 6:5" }
            ],
            
            salvation: [
                { text: "For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.", reference: "John 3:16" },
                { text: "I am the way and the truth and the life. No one comes to the Father except through me.", reference: "John 14:6" },
                { text: "Come to me, all you who are weary and burdened, and I will give you rest.", reference: "Matthew 11:28" }
            ],
            
            discipleship: [
                { text: "If anyone would come after me, let him deny himself and take up his cross and follow me.", reference: "Matthew 16:24" },
                { text: "By this everyone will know that you are my disciples, if you love one another.", reference: "John 13:35" },
                { text: "Go and make disciples of all nations, baptizing them in the name of the Father and of the Son and of the Holy Spirit.", reference: "Matthew 28:19" }
            ],
            
            worry: [
                { text: "Therefore do not worry about tomorrow, for tomorrow will worry about itself. Each day has enough trouble of its own.", reference: "Matthew 6:34" },
                { text: "Look at the birds of the air; they do not sow or reap or store away in barns, and yet your heavenly Father feeds them. Are you not much more valuable than they?", reference: "Matthew 6:26" },
                { text: "Who of you by worrying can add a single hour to your life?", reference: "Matthew 6:27" }
            ],
            
            general: [
                { text: "I have come that they may have life, and have it abundantly.", reference: "John 10:10" },
                { text: "Heaven and earth will pass away, but my words will never pass away.", reference: "Matthew 24:35" },
                { text: "Blessed are the poor in spirit, for theirs is the kingdom of heaven.", reference: "Matthew 5:3" }
            ]
        };

        // ===== JESUS QUOTE RELEVANCE DETECTION =====
        function detectJesusQuoteRelevance(userInput, heraldResponse) {
            const input = userInput.toLowerCase();
            const response = heraldResponse.toLowerCase();
            
            const contextKeywords = {
                love: ['love', 'loving', 'romance', 'relationship', 'marriage', 'family'],
                peace: ['peace', 'anxiety', 'worry', 'stress', 'calm', 'rest', 'troubled'],
                faith: ['faith', 'believe', 'trust', 'doubt', 'impossible', 'miracle'],
                forgiveness: ['forgive', 'forgiveness', 'hurt', 'angry', 'resentment', 'mercy'],
                prayer: ['pray', 'prayer', 'praying', 'ask god', 'talk to god'],
                salvation: ['saved', 'salvation', 'eternal life', 'heaven', 'born again'],
                discipleship: ['follow', 'disciple', 'christian life', 'obey', 'serve'],
                worry: ['worry', 'anxious', 'fear', 'afraid', 'stressed', 'overwhelmed'],
                general: ['jesus', 'christ', 'lord', 'savior', 'son of god']
            };
            
            // Check if input or expected response contains relevant keywords
            for (const [category, keywords] of Object.entries(contextKeywords)) {
                for (const keyword of keywords) {
                    if (input.includes(keyword) || response.includes(keyword)) {
                        return category;
                    }
                }
            }
            
            // Check for Bible references that Jesus spoke
            const jesusVersePatterns = [
                /john (3|14|15|16|17)/, /matthew (5|6|7|11|16|28)/, 
                /luke (6|23)/, /mark (11|16)/
            ];
            
            for (const pattern of jesusVersePatterns) {
                if (pattern.test(input)) {
                    return 'general';
                }
            }
            
            return null; // No Jesus quote needed
        }

        // ===== GET CONTEXTUAL JESUS QUOTE =====
        function getContextualJesusQuote(category) {
            if (!category || !jesusQuotes[category]) {
                return null;
            }
            
            const quotes = jesusQuotes[category];
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            
            return {
                text: randomQuote.text,
                reference: randomQuote.reference,
                formatted: `As our Lord Jesus said: "${randomQuote.text}" (${randomQuote.reference})`
            };
        }

        // ===== ENHANCED HERALD INTERACTION SYSTEM =====
        let selectedHerald = 'john';
        let isLoading = false;
        let userSession = {
            userId: 'user_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now(),
            interactions: []
        };

        // Herald personalities
        const heralds = {
            john: {
                name: 'John',
                subtitle: 'The Beloved Disciple',
                colorProfile: { green: 9.0, blue: 7.5, red: 2.0, yellow: 6.0 },
                addressTerm: 'beloved'
            },
            peter: {
                name: 'Peter', 
                subtitle: 'The Bold Fisherman',
                colorProfile: { red: 9.5, yellow: 8.0, green: 5.5, blue: 3.0 },
                addressTerm: 'friend'
            },
            barnabas: {
                name: 'Barnabas',
                subtitle: 'Son of Encouragement', 
                colorProfile: { green: 9.0, yellow: 8.5, blue: 4.0, red: 2.5 },
                addressTerm: 'dear friend'
            },
            mary: {
                name: 'Mary of Bethany',
                subtitle: 'The Contemplative Learner',
                colorProfile: { blue: 9.0, green: 7.5, yellow: 3.5, red: 1.5 },
                addressTerm: 'dear one'
            },
            deborah: {
                name: 'Deborah',
                subtitle: 'Judge and Prophetess',
                colorProfile: { red: 8.5, blue: 8.0, green: 4.5, yellow: 3.0 },
                addressTerm: 'faithful one'
            },
            lydia: {
                name: 'Lydia',
                subtitle: 'The Hospitable Merchant',
                colorProfile: { yellow: 8.0, green: 7.5, blue: 6.0, red: 4.0 },
                addressTerm: 'dear sister'
            }
        };

        // ===== ENHANCED INPUT DETECTION =====
        function detectInputType(input) {
            const trimmed = input.trim().toLowerCase();
            
            // Bible reference pattern
            const biblePattern = /^(Genesis|Gen|Exodus|Ex|Leviticus|Lev|Numbers|Num|Deuteronomy|Deut|Joshua|Josh|Judges|Judg|Ruth|1\s*Samuel|2\s*Samuel|1\s*Sam|2\s*Sam|1\s*Kings|2\s*Kings|1\s*Chron|2\s*Chron|Ezra|Nehemiah|Neh|Esther|Est|Job|Psalm|Ps|Proverbs|Prov|Ecclesiastes|Eccl|Song\s*of\s*Solomon|Song|Isaiah|Isa|Jeremiah|Jer|Lamentations|Lam|Ezekiel|Ezek|Daniel|Dan|Hosea|Joel|Amos|Obadiah|Obad|Jonah|Micah|Nahum|Habakkuk|Hab|Zephaniah|Zeph|Haggai|Hag|Zechariah|Zech|Malachi|Mal|Matthew|Matt|Mark|Luke|John|Acts|Romans|Rom|1\s*Corinthians|2\s*Corinthians|1\s*Cor|2\s*Cor|Galatians|Gal|Ephesians|Eph|Philippians|Phil|Colossians|Col|1\s*Thessalonians|2\s*Thessalonians|1\s*Thess|2\s*Thess|1\s*Timothy|2\s*Timothy|1\s*Tim|2\s*Tim|Titus|Philemon|Hebrews|Heb|James|1\s*Peter|2\s*Peter|1\s*Pet|2\s*Pet|1\s*John|2\s*John|3\s*John|Jude|Revelation|Rev)\s+\d+/i;
            
            if (biblePattern.test(input.trim())) {
                return { type: 'reference', reference: input.trim() };
            }
            
            // Common spiritual topics
            const topics = ['love', 'faith', 'prayer', 'hope', 'peace', 'wisdom', 'strength', 'forgiveness', 'courage', 'grace', 'joy', 'humility', 'patience', 'kindness', 'trust', 'protection', 'guidance', 'comfort', 'healing', 'provision'];
            for (const topic of topics) {
                if (trimmed.includes(topic) && input.length < 100) {
                    return { type: 'topic', topic: topic, query: input.trim() };
                }
            }
            
            // Direct scripture (longer text)
            if (input.length > 50) {
                return { type: 'scripture', text: input.trim() };
            }
            
            // Default to general query
            return { type: 'general', query: input.trim() };
        }

        // ===== MAIN HERALD INTERACTION FUNCTION =====
        async function askHerald() {
            const searchInput = document.getElementById('searchInput');
            const input = searchInput ? searchInput.value.trim() : '';
            
            if (!input) {
                alert('Please enter a question, Bible verse, or topic first.');
                return;
            }

            const responseSection = document.getElementById('responseSection');
            const herald = heralds[selectedHerald];
            
            // Detect input type
            const inputType = detectInputType(input);
            console.log('Input type detected:', inputType);
            
            // Set loading state
            isLoading = true;
            updateLoadingState(true);
            
            // Show response section with loading
            if (responseSection) {
                responseSection.style.display = 'block';
                responseSection.innerHTML = getLoadingHTML(herald);
            }

            try {
                // Call API
                const response = await fetch('/api/heralds', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        herald: selectedHerald,
                        input: input,
                        userId: userSession.userId
                    })
                });

                const data = await response.json();
                
                if (data.success) {
                    // Check if Jesus quote is contextually relevant
                    const jesusCategory = detectJesusQuoteRelevance(input, data.response);
                    const jesusQuote = jesusCategory ? getContextualJesusQuote(jesusCategory) : null;
                    
                    // Display response with optional Jesus quote
                    displayResponse(data, jesusQuote);
                    
                    // Auto-scroll to response
                    setTimeout(() => {
                        if (responseSection) {
                            responseSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 100);
                    
                } else {
                    displayError(data.error || 'An error occurred');
                }
            } catch (error) {
                console.error('Error:', error);
                displayError('Unable to connect to the herald. Please try again.');
            } finally {
                // Reset loading state
                isLoading = false;
                updateLoadingState(false);
            }
        }

        // ===== DISPLAY FUNCTIONS =====
        function displayResponse(data, jesusQuote = null) {
            const responseSection = document.getElementById('responseSection');
            if (!responseSection) return;
            
            const herald = heralds[data.heraldName?.toLowerCase()] || heralds[selectedHerald];
            
            let content = `
                <div class="response-header">
                    <div class="herald-avatar">${herald.name.charAt(0)}</div>
                    <div class="response-meta">
                        <h3>${herald.name}</h3>
                        <p>${herald.subtitle}</p>
                    </div>
                </div>
            `;
            
            // Add verse display if available
            if (data.verseText) {
                content += `
                    <div class="verse-display">
                        <div class="verse-text">"${data.verseText.text}"</div>
                        <div class="verse-reference">${data.verseText.reference} (${data.verseText.translation})</div>
                    </div>
                `;
            }
            
            // Add Jesus quote if contextually relevant
            if (jesusQuote) {
                content += `
                    <div class="jesus-quote-section">
                        <div class="jesus-quote-header">
                            <span class="jesus-icon">✝️</span>
                            <span>The Words of Jesus</span>
                        </div>
                        <div class="jesus-quote-text">"${jesusQuote.text}"</div>
                        <div class="jesus-quote-reference">— ${jesusQuote.reference}</div>
                    </div>
                `;
            }
            
            // Add herald response
            content += `<div class="response-text">${formatText(data.response)}</div>`;
            
            // Add recommendation if present
            if (data.recommendation) {
                content += `
                    <div class="recommendation-banner">
                        <div class="recommendation-text">${data.recommendation.message}</div>
                        <button class="try-herald-btn" onclick="switchToHerald('${data.recommendation.recommendedHerald}')">
                            Try ${getHeraldInfo(data.recommendation.recommendedHerald).name}
                        </button>
                    </div>
                `;
            }

            responseSection.innerHTML = content;
        }

        function getLoadingHTML(herald) {
            return `
                <div class="response-header">
                    <div class="herald-avatar">${herald.name.charAt(0)}</div>
                    <div class="response-meta">
                        <h3>${herald.name}</h3>
                        <p>${herald.subtitle}</p>
                    </div>
                </div>
                <div class="loading" style="justify-content: center; padding: 2rem;">
                    <div class="spinner"></div>
                    <span>${herald.name} is contemplating your query...</span>
                </div>
            `;
        }

        function updateLoadingState(loading) {
            document.querySelectorAll('.herald-submit-btn').forEach(btn => {
                btn.disabled = loading;
                btn.innerHTML = loading ? 
                    '<div class="loading"><div class="spinner"></div>Submit</div>' : 
                    'Seek Wisdom';
            });
        }

        function displayError(message) {
            const responseSection = document.getElementById('responseSection');
            if (responseSection) {
                responseSection.innerHTML = `
                    <div class="response-header">
                        <div class="herald-avatar">!</div>
                        <div class="response-meta">
                            <h3>Unable to Connect</h3>
                            <p>Please try again</p>
                        </div>
                    </div>
                    <div class="response-text" style="color: #dc2626;">
                        ${message}
                    </div>
                `;
            }
        }

        // ===== UTILITY FUNCTIONS =====
        function formatText(text) {
            return text.replace(/\n/g, '<br>').replace(/\*\[(.*?)\]\*/g, '<em style="color: #667eea;">$1</em>');
        }

        function getHeraldInfo(heraldName) {
            return heralds[heraldName.toLowerCase()] || heralds.john;
        }

        function switchToHerald(heraldName) {
            selectedHerald = heraldName;
            
            // Update visual selection
            document.querySelectorAll('.herald-card').forEach(card => {
                card.classList.remove('selected');
                if (card.dataset.herald === heraldName) {
                    card.classList.add('selected');
                }
            });
            
            // Re-ask with new herald
            askHerald();
        }

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile Navigation Toggle
            const navToggle = document.getElementById('navToggle');
            const navLinks = document.getElementById('navLinks');
            const navOverlay = document.getElementById('navOverlay');
            
            function toggleNav() {
                navToggle.classList.toggle('active');
                navLinks.classList.toggle('active');
                navOverlay.classList.toggle('active');
                
                // Prevent body scroll when menu is open
                if (navLinks.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            }
            
            function closeNav() {
                navToggle.classList.remove('active');
                navLinks.classList.remove('active');
                navOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            // Toggle menu when hamburger is clicked
            navToggle.addEventListener('click', toggleNav);
            
            // Close menu when overlay is clicked
            navOverlay.addEventListener('click', closeNav);
            
            // Close menu when nav link is clicked (mobile)
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', closeNav);
            });
            
            // Close menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && navLinks.classList.contains('active')) {
                    closeNav();
                }
            });
            
            // Close menu on window resize (if user rotates device or resizes window)
            window.addEventListener('resize', () => {
                if (window.innerWidth > 768) {
                    closeNav();
                }
            });

            // Set default herald selection
            const defaultCard = document.querySelector('.herald-card.john');
            if (defaultCard) {
                defaultCard.classList.add('selected');
            }
            
            // Herald selection handlers
            document.querySelectorAll('.herald-submit-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    const input = document.getElementById('searchInput').value.trim();
                    if (!input) {
                        alert('Please enter a query first before selecting a herald.');
                        document.getElementById('searchInput').focus();
                        return;
                    }
                    
                    selectedHerald = btn.dataset.herald;
                    
                    // Visual selection feedback
                    document.querySelectorAll('.herald-card').forEach(c => c.classList.remove('selected'));
                    btn.closest('.herald-card').classList.add('selected');
                    
                    askHerald();
                });
            });

            // Herald card click for selection only
            document.querySelectorAll('.herald-card').forEach(card => {
                card.addEventListener('click', () => {
                    document.querySelectorAll('.herald-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    selectedHerald = card.dataset.herald;
                });
            });

            // Enter key handling
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !isLoading) {
                        const input = searchInput.value.trim();
                        if (input) {
                            const heraldsSection = document.querySelector('.heralds-section');
                            if (heraldsSection) {
                                heraldsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            }
                        }
                    }
                });
            }

            console.log('🏛️ The Agora initialized - Ancient Voices, Living Word');
            console.log('✝️ Jesus Quote System: Contextually relevant Scripture integration');
            console.log('🎯 Test with: "peace", "forgiveness", "John 3:16", "worried about future"');
        });
    </script>
</body>
</html>
